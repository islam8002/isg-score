<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Live Score</title>
<style>
body { margin:0; font-family: Arial; background:#0f172a; color:white }
header { background:#020617; padding:15px; text-align:center; font-size:22px; font-weight:bold }
.container { padding:15px }
.match { background:#1e293b; padding:12px; margin-bottom:12px; border-radius:10px; display:flex; justify-content:space-between; align-items:center }
.teams { font-size:15px }
.score { font-size:22px; color:#22c55e }
.time { font-size:13px; color:#94a3b8 }
</style>
</head>
<body>

<header>⚽ المباريات المباشرة</header>
<div class="container" id="matches">جاري التحميل...</div>

<script>
const API_URL = "/live"; 

async function loadMatches() {
  try {
    const res = await fetch(API_URL);
    const data = await res.json();
    const box = document.getElementById("matches");
    box.innerHTML = "";

    if (!data || data.length === 0) {
      box.innerHTML = "❌ لا توجد مباريات مباشرة";
      return;
    }

    data.forEach(m => {
      box.innerHTML += `
        <div class="match">
          <div class="teams">${m.teams.home.name}<br>${m.teams.away.name}</div>
          <div class="score">${m.goals.home} - ${m.goals.away}</div>
          <div class="time">⏱ ${m.fixture.status.elapsed}'</div>
        </div>
      `;
    });
  } catch (e) {
    document.getElementById("matches").innerHTML = "❌ خطأ في تحميل المباريات";
  }
}

loadMatches();
setInterval(loadMatches, 20000);
</script>

</body>
</html>
